<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <link rel="stylesheet" href="css/mobile-optimization.css">
    <title>GoShopMe Welcome</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'shine-primary': '#939BFB',
                        'shine-accent': '#F96226'
                    }
                }
            }
        }
    </script>
    <script src="https://unpkg.com/heroicons@2.0.16/24/outline/index.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,wght@0,400;0,500;0,600;0,700;1,400;1,500;1,600;1,700&family=Karla:wght@400;700&family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/chat-drawer-drag.css">

    
    <style>
        
/* ---- MOBILE FULL-WIDTH OVERRIDE (match Home) ---- */
@media screen and (max-width: 768px) {
  #app-shell, #main-content, #auth-screen, #welcome_screen, #quiz-screen, #onboarding-screen,
  #bottom-nav, #bottom-navigation, #header, #app-header,
  #chat-drawer, #chat-input-bar, #shai-chat-drawer, #return-chat-drawer, #return-chat-input-bar, #chat-input-collapsed,
  #shai-chat-drawer-wrapper, #chat-drawer-wrapper,
  body > div, body > main {
    max-width: 100vw !important;
    width: 100% !important;
    margin-left: 0 !important;
    margin-right: 0 !important;
    box-shadow: none !important;
    left: 0 !important;
    right: 0 !important;
    transform: none !important;
  }
  [class*="left-1/2"][class*="-translate-x-1/2"]:not([class*="rounded-full"]) {
    left: 0 !important;
    right: 0 !important;
    max-width: 100vw !important;
    width: 100% !important;
    transform: none !important;
  }
  #chat-drawer.translate-y-full, #shai-chat-drawer.translate-y-full, #return-chat-drawer.translate-y-full {
    transform: translateY(100%) !important;
  }
  #bottom-nav > div, #bottom-navigation > div, nav#bottom-nav > div, nav#bottom-navigation > div {
    padding-top: 2px !important;
    padding-bottom: 24px !important;
  }
}

::-webkit-scrollbar { display: none;}
        html, body { margin: 0; padding: 0; }
        * { 
            font-family: 'DM Sans', 
                         'Karla',
                         -apple-system,
                         BlinkMacSystemFont,
                         'Segoe UI',
                         Roboto,
                         'Helvetica Neue',
                         Arial,
                         'Noto Sans',
                         sans-serif; 
        }

        .dm-sans { 
            font-family: 'DM Sans', 
                         'Karla',
                         -apple-system,
                         BlinkMacSystemFont,
                         'Segoe UI',
                         Roboto,
                         'Helvetica Neue',
                         Arial,
                         'Noto Sans',
                         sans-serif; 
        }

        .poppins { 
            font-family: 'Poppins',
                         -apple-system,
                         BlinkMacSystemFont,
                         'Segoe UI',
                         Roboto,
                         'Helvetica Neue',
                         Arial,
                         sans-serif; 
        }

        .chat-bubble-shai {
            border-top-left-radius: 0.25rem;
            border-top-right-radius: 1.5rem;
            border-bottom-right-radius: 1.5rem;
            border-bottom-left-radius: 1.5rem;
        }

        .chat-bubble-user {
            border-top-left-radius: 1.5rem;
            border-top-right-radius: 0.25rem;
            border-bottom-right-radius: 1.5rem;
            border-bottom-left-radius: 1.5rem;
        }

        @keyframes fade-in-up {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .animate-fade-in-up {
            opacity: 0;
            animation: fade-in-up 0.6s ease-out forwards;
        }

        @keyframes pulse-slow {
            0%, 100% {
                opacity: 1;
            }
            50% {
                opacity: 0.6;
            }
        }

        .animate-pulse-slow {
            animation: pulse-slow 3s ease-in-out infinite;
        }

        /* Video player: fits screen, preserves resolution and aspect ratio */
        #video_player_container {
            width: 100%;
            max-width: 220px;
            margin: 0 auto;
            aspect-ratio: 9 / 16;
            overflow: hidden;
        }
        #presentation_video {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
    </style>
</head>
<body class="bg-[#F6F6F6] antialiased">
    <div class="min-h-screen flex justify-center">
        <main id="welcome_screen" class="w-full max-w-[390px] min-h-screen bg-white flex flex-col overflow-hidden shadow-2xl relative">
            <header data-backend-symbol-id="u2lz0YVYry4y4DrmcmQ9" id="header" class="pt-8 pb-2 px-6 flex-shrink-0 flex flex-col items-center">
                <div class="w-full text-center leading-none mb-4">
                    <img class="w-full max-w-[390px] h-auto mx-auto block align-top" src="https://raw.githubusercontent.com/nora-todorova/GoShopMe-assets/main/assets/GoShopMe%20logo.svg" data-logo alt="GoShopMe Logo" title="GoShopMe logo">
                </div>
            </header>
            <section id="hero_section" class="text-center px-6 pb-2 flex-shrink-0">
                <h2 class="poppins text-xl font-bold text-gray-900 leading-tight">Meet ShAI.</h2>
                <h3 class="poppins text-lg font-semibold text-gray-900 mt-1">Your AI personal shopper.</h3>
                <div class="mt-3">
                    <p class="dm-sans text-sm font-medium text-gray-800 leading-snug">See it. Send it. Buy it.</p>
                    <p class="dm-sans text-sm font-medium text-gray-800">No scrolling. No guessing.</p>
                </div>
            </section>
            <section id="video_section" class="px-6 pb-3 flex-shrink-0 flex justify-center">
                <!-- Vertical 9:16 aspect for social/mobile video; fits screen without taking full space -->
                <div id="video_player_container" class="bg-black rounded-2xl overflow-hidden border border-gray-100 relative shadow-lg">
                    <video 
                        id="presentation_video"
                        controls
                        playsinline
                        preload="metadata"
                        data-video-poster>
                        <source src="https://raw.githubusercontent.com/nora-todorova/GoShopMe-assets/main/assets/GoShopMe%20App_Video.mp4" data-video-source type="video/mp4">
                        Your browser does not support the video tag.
                    </video>
                </div>
            </section>
            <section id="benefits_section" class="px-6 pb-3 flex-shrink-0">
                <div class="space-y-3">
                    <div id="benefit_1" class="flex items-start gap-3">
                        <div class="flex-shrink-0 w-8 h-8 bg-shine-primary/10 rounded-full flex items-center justify-center">
                            <svg class="w-4 h-4 text-shine-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M6.827 6.175A2.31 2.31 0 015.186 7.23c-.38.054-.757.112-1.134.175C2.999 7.58 2.25 8.507 2.25 9.574V18a2.25 2.25 0 002.25 2.25h15A2.25 2.25 0 0021.75 18V9.574c0-1.067-.75-1.994-1.802-2.169a47.865 47.865 0 00-1.134-.175 2.31 2.31 0 01-1.64-1.055l-.822-1.316a2.192 2.192 0 00-1.736-1.039 48.774 48.774 0 00-5.232 0 2.192 2.192 0 00-1.736 1.039l-.821 1.316z" />
                                <path stroke-linecap="round" stroke-linejoin="round" d="M16.5 12.75a4.5 4.5 0 11-9 0 4.5 4.5 0 019 0zM18.75 10.5h.008v.008h-.008V10.5z" />
                            </svg>
                        </div>
                        <p class="dm-sans text-sm text-gray-700 leading-relaxed pt-1">
                            Recreate outfits from Instagram, TikTok, or real life
                        </p>
                    </div>
                    <div id="benefit_2" class="flex items-start gap-3">
                        <div class="flex-shrink-0 w-8 h-8 bg-shine-primary/10 rounded-full flex items-center justify-center">
                            <svg class="w-4 h-4 text-shine-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z" />
                            </svg>
                        </div>
                        <p class="dm-sans text-sm text-gray-700 leading-relaxed pt-1">
                            Find exact matches, cheaper alternatives, or full outfits
                        </p>
                    </div>
                    <div id="benefit_3" class="flex items-start gap-3">
                        <div class="flex-shrink-0 w-8 h-8 bg-shine-primary/10 rounded-full flex items-center justify-center">
                            <svg class="w-4 h-4 text-shine-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="1.5">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M15 19.128a9.38 9.38 0 002.625.372 9.337 9.337 0 004.121-.952 4.125 4.125 0 00-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 018.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0111.964-3.07M12 6.375a3.375 3.375 0 11-6.75 0 3.375 3.375 0 016.75 0zm8.25 2.25a2.625 2.625 0 11-5.25 0 2.625 2.625 0 015.25 0z" />
                            </svg>
                        </div>
                        <p class="dm-sans text-sm text-gray-700 leading-relaxed pt-1">
                            Shop together in chat — ShAI + your friends
                        </p>
                    </div>
                </div>
            </section>
            <section id="trust_section" class="px-6 pb-4 flex-shrink-0"></section>
            <footer id="footer" class="px-6 pb-8 pt-2 flex-shrink-0 mt-auto">
                <div id="cta_section" class="flex flex-col items-center space-y-3">
                    <button id="get_started_button" class="w-3/4 bg-shine-primary text-white font-medium py-2.5 px-3 rounded-full transition-all text-sm shadow-sm hover:shadow-md hover:bg-shine-primary/90 dm-sans">
                        Get started
                    </button>
                    <div id="secondary_option" class="text-center">
                        <p class="text-sm text-gray-500 dm-sans">
                            Already have an account? <span class="font-medium text-shine-primary cursor-pointer hover:underline">Sign in</span>
                        </p>
                    </div>
                </div>
            </footer>
        </main>
    </div>

    <script>
        // Function to populate logo
        window.populateLogo = function(logoUrl) {
            const logoImg = document.querySelector('[data-logo]');
            if (logoImg) {
                logoImg.src = logoUrl;
                logoImg.onerror = function() {
                    console.warn('Failed to load logo:', logoUrl);
                };
                console.log(`✓ Updated logo with: ${logoUrl}`);
                return true;
            } else {
                console.warn('Logo element not found');
                return false;
            }
        };

        // Function to populate welcome video
        window.populateWelcomeVideo = function(videoUrl, posterUrl) {
            const video = document.getElementById('presentation_video');
            if (!video) {
                console.warn('Video element not found');
                return false;
            }
            const source = video.querySelector('[data-video-source]');
            if (!source) {
                console.warn('Video source element not found');
                return false;
            }

            // Set video source
            if (videoUrl) {
                source.src = videoUrl;
                video.load(); // Reload video element with new source
            }

            // Set poster image
            if (posterUrl) {
                video.poster = posterUrl;
            }

            video.onerror = function() {
                console.warn('Failed to load video:', videoUrl);
            };

            console.log(`✓ Updated welcome video with:`);
            console.log(`  - Video URL: ${videoUrl || 'not set'}`);
            console.log(`  - Poster URL: ${posterUrl || 'not set'}`);
            return true;
        };

        // Console test commands
        document.addEventListener('DOMContentLoaded', function() {
            console.log('%c=== WELCOME SCREEN TEST COMMANDS ===', 'color: #939BFB; font-weight: bold; font-size: 16px;');
            console.log('');
            console.log('%c1. Populate Logo (from database):', 'color: #F96226; font-weight: bold; font-size: 12px;');
            console.log('populateLogo("/api/uploads/logo/goshopme-logo.png");');
            console.log('// Or with full URL:');
            console.log('populateLogo("https://your-cdn.com/uploads/logo/goshopme-logo.png");');
            console.log('');
            console.log('%c2. Populate Welcome Video (from database):', 'color: #F96226; font-weight: bold; font-size: 12px;');
            console.log('populateWelcomeVideo("/api/uploads/videos/welcome-presentation.mp4", "/api/uploads/thumbnails/welcome-thumbnail.jpg");');
            console.log('// Or with full URLs:');
            console.log('populateWelcomeVideo("https://your-cdn.com/uploads/videos/welcome-presentation.mp4", "https://your-cdn.com/uploads/thumbnails/welcome-thumbnail.jpg");');
            console.log('');
            console.log('%c3. TEST WITH WORKING PLACEHOLDER VIDEO (copy and paste to test):', 'color: #10B981; font-weight: bold; font-size: 14px;');
            console.log(`// Test with a working video URL
populateLogo("https://via.placeholder.com/150x50/939BFB/FFFFFF?text=GoShopMe");
populateWelcomeVideo("https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4", "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/images/BigBuckBunny.jpg");`);
            console.log('');
            console.log('%c4. Alternative Test Video:', 'color: #10B981; font-weight: bold; font-size: 12px;');
            console.log('populateWelcomeVideo("https://sample-videos.com/video123/mp4/720/big_buck_bunny_720p_1mb.mp4", "https://via.placeholder.com/800x450/939BFB/FFFFFF?text=Welcome+Video");');
            console.log('');
            console.log('%c=== END TEST COMMANDS ===', 'color: #939BFB; font-weight: bold; font-size: 14px;');
        });
        
        // Verify functions are loaded
        console.log('Welcome Screen functions loaded:', {
            populateLogo: typeof window.populateLogo,
            populateWelcomeVideo: typeof window.populateWelcomeVideo
        });

        // API readiness: get started and sign in actions
        document.addEventListener('DOMContentLoaded', function() {
            var getStartedBtn = document.getElementById('get_started_button');
            var signInSpan = document.querySelector('#secondary_option .text-shine-primary');
            if (getStartedBtn) {
                getStartedBtn.addEventListener('click', function() {
                    if (typeof window.GoShopMeAuthAPI !== 'undefined' && window.GoShopMeAuthAPI.onGetStarted) {
                        window.GoShopMeAuthAPI.onGetStarted();
                    } else {
                        window.location.href = 'SignUp_Screen.html';
                    }
                });
            }
            if (signInSpan) {
                signInSpan.addEventListener('click', function() {
                    if (typeof window.GoShopMeAuthAPI !== 'undefined' && window.GoShopMeAuthAPI.onSignIn) {
                        window.GoShopMeAuthAPI.onSignIn();
                    } else {
                        window.location.href = 'SignIn_Screen.html';
                    }
                });
            }
        });
    </script>
</body>
</html>


